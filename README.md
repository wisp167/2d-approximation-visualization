# 2d-approximation-visualization
Визуализация для https://github.com/wisp167/2d-approximation.git

## Установка QT
>sudo apt install qt5-default

Сборка проекта по файлу basic_graph.pro:
1. Создание Makefile (на всякий случай добавил созданный в репозиторий, но возможно на другой системе не будет работать)
>qmake (иногда qmake5)
2. Компиляция
>make -j 8

## Краткое описание работы
Создаются потоки - графический и вычислительные. Так как при большом количестве точек интерполяции (nx*ny >= 1e7) вычислительным потокам требуется ощутимое время на пересчёт ответа, то хранится 2 массива для значений в точках приближения (один, по которому отрисовывается сейчас, и другой, в который будут сохранять ответ вычислительные потоки) и 3 набора параметров: 
1) набор, для которого отрисовывается в данный момент
2) набор, который нужно будет отдать вычислительным потокам для подсчёта ответа (в котором фиксируются запросы изменения пользователя через интерфейс)
3) набор, для которого вычислительные потоки считают ответ

После отрисовки графический поток заходит в функцию к вычислительным потокам и опрашивает, готово ли. Когда готово, то ответ и 3-ий набор параметров копируется к графическому потоку, а 2-ий набор параметров копируется вычислительным процессам. Если он отличается от того, что у вычислительных потоков, то начинается пересчет ответа, иначе ждут.
Информация о параметрах по которым вычислительные потоки считали и время выводятся в консоль.
## Параметры запуска
>./basic_graph a b c d nx ny mx my k e m p

(1–4) a, b, c, d – спецификация области [a,b] x [c,d] (тип double) <br />
(5-6) nx, ny – начальное значение для числа точек интерполяции по осям x и y (тип int) <br />
(7-8) mx, my – начальное значение для числа точек визуализации по осям x и y (тип int) <br />
(9) k – начальное значение номера приближаемой функции (тип int) <br />
(10) e – точность решения системы линейных уравнений (тип double) <br />
(11) m – максимальное число итераций для решения системы линейных уравнений (тип int) <br />
(12) p – число вычислительных потоков (тип int) <br />
## Интерфейс
Кнопки 0-9:

0 - Циклически меняет номер отображаемой функции (k) <br />
1 - Циклически меняет состав отображаемой функции <br />
   (a) показывать график функции; <br />
   (b) показывать график ее приближения; <br />
   (c) показывать график погрешности приближения. <br />
2/3 - Увеличить/Уменьшить масштаб графика <br />
4/5 - Увеличить/Уменьшить количество точек приближения nx, ny в 2 раза <br />
6/7 - Прибавить/Убавить 1/10 от максимума значения модуля функции в исходной области к точке {x_{nx/2}, y_{ny/2}} <br />
8/9 - Увеличить/Уменьшить количество точек визуализации mx, my в 2 раза <br />

## Пример запуска
